{"is_source_file": true, "format": "TypeScript", "description": "This file implements a class 'HFEmbeddings' that provides an interface for generating embeddings using Hugging Face's inference API. The class manages API token authentication, configuration for model selection, and encapsulates the logic for making POST requests to the Hugging Face inference endpoint to obtain embedding vectors for input texts.", "external_files": ["../types"], "external_methods": ["fetch"], "published": ["HFEmbeddings"], "classes": [{"name": "HFEmbeddings", "description": "A class that provides methods to interact with Hugging Face's inference API for generating text embeddings."}], "methods": [{"name": "constructor(opts?: { apiToken?: string; model?: string }) { constructor", "description": "Initializes the HFEmbeddings instance with optional API token and model name, setting default values and fetching necessary environment variables.", "scope": "HFEmbeddings", "scopeKind": "class"}, {"name": "embed", "description": "Asynchronously sends text input(s) to the Hugging Face API to obtain embedding vectors, handling both single and batch inputs, and normalizes the API response into a consistent 2D array of numbers."}], "calls": ["fetch"], "search-terms": ["Hugging Face", "embeddings", "API token", "sentence-transformers", "Inference API", "embed", "transformers", "API request"], "state": 2, "file_id": 20, "knowledge_revision": 44, "git_revision": "", "ctags": [{"_type": "tag", "name": "HFEmbeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^export class HFEmbeddings implements EmbeddingsProvider {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "apiToken", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^  private apiToken: string;$/", "language": "TypeScript", "kind": "property", "scope": "HFEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^  private baseUrl: string;$/", "language": "TypeScript", "kind": "property", "scope": "HFEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^      const body = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^  constructor(opts?: { apiToken?: string; model?: string }) {$/", "language": "TypeScript", "kind": "method", "scope": "HFEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^    const json = await res.json();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^  private model: string;$/", "language": "TypeScript", "kind": "property", "scope": "HFEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "normalize", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^    const normalize = (out: any): number[][] => {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^    const res = await fetch(this.baseUrl, {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/huggingface.ts", "pattern": "/^    const token =$/", "language": "TypeScript", "kind": "constant"}], "hash": "77e3e3c0e3a632305b25453122e63e67", "format-version": 4, "code-base-name": "frontend", "filename": "ai-rag-lite/src/embeddings/huggingface.ts", "fields": [{"name": "private apiToken: string;", "scope": "HFEmbeddings", "scopeKind": "class", "description": "unavailable"}, {"name": "private baseUrl: string;", "scope": "HFEmbeddings", "scopeKind": "class", "description": "unavailable"}, {"name": "private model: string;", "scope": "HFEmbeddings", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"44": ""}]}