{"is_source_file": true, "format": "TypeScript", "description": "This file defines an OpenAI embeddings provider class implementing the EmbeddingsProvider interface, enabling text embedding via OpenAI's API without relying on the OpenAI SDK. It handles API key configuration, fetch requests, and response parsing.", "external_files": ["../types"], "external_methods": ["fetch"], "published": ["OpenAIEmbeddings"], "classes": [{"name": "OpenAIEmbeddings", "description": "A minimal implementation of an embeddings provider utilizing OpenAI's API via fetch, with configurable options for API key, model, and base URL."}], "methods": [{"name": "constructor(opts?: { apiKey?: string; model?: string; baseUrl?: string }) { constructor", "description": "Initializes the provider with optional configuration. Sets API key, model, and base URL, fetching API key from environment variables if not provided.", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"name": "embed", "description": "Asynchronously sends texts to the OpenAI embeddings API and returns an array of embeddings as arrays of numbers."}], "calls": ["fetch"], "search-terms": ["OpenAI", "embeddings", "fetch", "typescript", "EmbeddingsProvider", "openai.ts"], "state": 2, "file_id": 19, "knowledge_revision": 39, "git_revision": "", "ctags": [{"_type": "tag", "name": "OpenAIEmbeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^export class OpenAIEmbeddings implements EmbeddingsProvider {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "apiKey", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^  private apiKey: string;$/", "language": "TypeScript", "kind": "property", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "baseUrl", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^  private baseUrl: string;$/", "language": "TypeScript", "kind": "property", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "body", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^      const body = await res.text().catch(() => \"\");$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^  constructor(opts?: { apiKey?: string; model?: string; baseUrl?: string }) {$/", "language": "TypeScript", "kind": "method", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "json", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^    const json = (await res.json()) as any;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "key", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^    const key = opts?.apiKey ?? (typeof process !== \"undefined\" ? process.env.OPENAI_API_KEY : u/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "model", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^  private model: string;$/", "language": "TypeScript", "kind": "property", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/embeddings/openai.ts", "pattern": "/^    const res = await fetch(this.baseUrl, {$/", "language": "TypeScript", "kind": "constant"}], "hash": "c94c205f2694a516e27ed091c4098291", "format-version": 4, "code-base-name": "frontend", "filename": "ai-rag-lite/src/embeddings/openai.ts", "fields": [{"name": "private apiKey: string;", "scope": "OpenAIEmbeddings", "scopeKind": "class", "description": "unavailable"}, {"name": "private baseUrl: string;", "scope": "OpenAIEmbeddings", "scopeKind": "class", "description": "unavailable"}, {"name": "private model: string;", "scope": "OpenAIEmbeddings", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"39": ""}]}