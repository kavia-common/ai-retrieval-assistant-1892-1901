{"is_source_file": true, "format": "JavaScript", "description": "This file provides a minimal, browser-safe implementation of the ai-rag-lite library, including text chunking, embeddings, vector store, and LLM interface for client-side use in Create React App (CRA). It defines functions and classes for text processing, embedding generation, vector search, and language model interactions, suitable for a browser environment with fetch API.", "external_files": ["fetch API (built-in browser API)"], "external_methods": ["fetch"], "published": ["chunkText", "MemoryVectorStore", "CustomEmbeddings", "HFEmbeddings", "OpenAIEmbeddings", "CustomLLM", "OpenAILLM", "LiteRAG"], "classes": [{"name": "MemoryVectorStore", "description": "A simple in-memory vector store supporting adding chunks with embeddings and searching by cosine similarity."}, {"name": "CustomEmbeddings", "description": "A wrapper around a custom embedding function, providing an embed method."}, {"name": "HFEmbeddings", "description": "An embedding class that fetches embeddings from Hugging Face API, requiring an API token."}, {"name": "OpenAIEmbeddings", "description": "An embedding class that fetches embeddings from OpenAI API, requiring an API key."}, {"name": "CustomLLM", "description": "A wrapper around a custom language model generate function."}, {"name": "OpenAILLM", "description": "An LLM interface using OpenAI's chat completions API, requiring API key."}, {"name": "LiteRAG", "description": "A class integrating embedding, vector store, and LLM to perform document ingestion and question answering."}], "methods": [{"name": "chunkText(doc, options = {})", "description": "Splits a document into chunks based on sentence boundaries, size, and overlap.", "scope": "", "scopeKind": ""}, {"name": "rankByCosine(embeddings, queryEmbedding, topK)", "description": "Ranks embeddings by cosine similarity to a query embedding.", "scope": "", "scopeKind": ""}, {"name": "add(chunks)", "scope": "MemoryVectorStore", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor()", "scope": "MemoryVectorStore", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(fn)", "scope": "CustomLLM", "scopeKind": "class", "description": "unavailable"}, {"name": "constructor(opts)", "scope": "OpenAILLM", "scopeKind": "class", "description": "unavailable"}, {"name": "cosineSimilarity(a, b)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "defaultPromptTemplate(question, contexts)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "embed(texts)", "scope": "OpenAIEmbeddings", "scopeKind": "class", "description": "unavailable"}, {"name": "generate(prompt)", "scope": "OpenAILLM", "scopeKind": "class", "description": "unavailable"}, {"name": "ingest(document)", "scope": "LiteRAG", "scopeKind": "class", "description": "unavailable"}, {"name": "ingestMany(documents)", "scope": "LiteRAG", "scopeKind": "class", "description": "unavailable"}, {"name": "query(question, opts)", "scope": "LiteRAG", "scopeKind": "class", "description": "unavailable"}, {"name": "search(queryEmbedding, topK)", "scope": "MemoryVectorStore", "scopeKind": "class", "description": "unavailable"}, {"name": "size()", "scope": "MemoryVectorStore", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch", "cosineSimilarity", "rankByCosine", "this.embedder.embed", "this.store.add", "this.store.search", "this.llm.generate"], "search-terms": ["browser-safe", "chunkText", "vector store", "embeddings", "language model", "client-side", "ai-rag-lite"], "state": 2, "file_id": 38, "knowledge_revision": 83, "git_revision": "", "ctags": [{"_type": "tag", "name": "CustomEmbeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class CustomEmbeddings {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "CustomLLM", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class CustomLLM {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "HFEmbeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class HFEmbeddings {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "LiteRAG", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class LiteRAG {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "MemoryVectorStore", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class MemoryVectorStore {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "OpenAIEmbeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class OpenAIEmbeddings {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "OpenAILLM", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export class OpenAILLM {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "add", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async add(chunks) {$/", "language": "JavaScript", "kind": "method", "signature": "(chunks)", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "chunkText", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^export function chunkText(doc, options = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(doc, options = {})"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor(fn) { this.fn = fn; }$/", "language": "JavaScript", "kind": "method", "signature": "(fn)", "scope": "CustomEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor(fn) { this.fn = fn; }$/", "language": "JavaScript", "kind": "method", "signature": "(fn)", "scope": "CustomLLM", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor(opts) {$/", "language": "JavaScript", "kind": "method", "signature": "(opts)", "scope": "HFEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor(opts) {$/", "language": "JavaScript", "kind": "method", "signature": "(opts)", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor(opts) {$/", "language": "JavaScript", "kind": "method", "signature": "(opts)", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  constructor(opts) {$/", "language": "JavaScript", "kind": "method", "signature": "(opts)", "scope": "OpenAILLM", "scopeKind": "class"}, {"_type": "tag", "name": "cosineSimilarity", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^function cosineSimilarity(a, b) {$/", "language": "JavaScript", "kind": "function", "signature": "(a, b)"}, {"_type": "tag", "name": "defaultPromptTemplate", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^function defaultPromptTemplate(question, contexts) {$/", "language": "JavaScript", "kind": "function", "signature": "(question, contexts)"}, {"_type": "tag", "name": "embed", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async embed(texts) { return this.fn(texts); }$/", "language": "JavaScript", "kind": "method", "signature": "(texts)", "scope": "CustomEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "embed", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async embed(texts) {$/", "language": "JavaScript", "kind": "method", "signature": "(texts)", "scope": "HFEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "embed", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async embed(texts) {$/", "language": "JavaScript", "kind": "method", "signature": "(texts)", "scope": "OpenAIEmbeddings", "scopeKind": "class"}, {"_type": "tag", "name": "generate", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async generate(prompt) { return this.fn(prompt); }$/", "language": "JavaScript", "kind": "method", "signature": "(prompt)", "scope": "CustomLLM", "scopeKind": "class"}, {"_type": "tag", "name": "generate", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async generate(prompt) {$/", "language": "JavaScript", "kind": "method", "signature": "(prompt)", "scope": "OpenAILLM", "scopeKind": "class"}, {"_type": "tag", "name": "ingest", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async ingest(document) {$/", "language": "JavaScript", "kind": "method", "signature": "(document)", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "ingestMany", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async ingestMany(documents) {$/", "language": "JavaScript", "kind": "method", "signature": "(documents)", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async query(question, opts) {$/", "language": "JavaScript", "kind": "method", "signature": "(question, opts)", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "rankByCosine", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^function rankByCosine(embeddings, queryEmbedding, topK) {$/", "language": "JavaScript", "kind": "function", "signature": "(embeddings, queryEmbedding, topK)"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  async search(queryEmbedding, topK) {$/", "language": "JavaScript", "kind": "method", "signature": "(queryEmbedding, topK)", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "size", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/frontend/src/lib/ai-rag-lite-browser.js", "pattern": "/^  size() { return this.chunks.length; }$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "MemoryVectorStore", "scopeKind": "class"}], "hash": "e4858ea17464b848f8f340c1fd5b1213", "format-version": 4, "code-base-name": "frontend", "filename": "frontend/src/lib/ai-rag-lite-browser.js", "revision_history": [{"83": ""}]}