{"is_source_file": true, "format": "TypeScript", "description": "This file defines the LiteRAG class, which orchestrates document ingestion, embedding, storage, and querying processes for a retrieval-augmented generation system. It imports various types and functions, manages internal components like embedder, store, and LLM, and provides methods for ingesting documents, ingesting multiple documents, and querying.", "external_files": ["./types", "./chunker"], "external_methods": ["chunkText"], "published": ["LiteRAG"], "classes": [{"name": "LiteRAG", "description": "An orchestrator class that manages document processing and querying operations within the retrieval-augmented generation system."}], "methods": [{"name": "ingest", "description": "Processes a single document: chunks the text, computes embeddings, stores chunks with embeddings, and returns the chunks."}, {"name": "ingestMany", "description": "Processes multiple documents sequentially, returning an array of chunk arrays for each document."}, {"name": "query", "description": "Embeds the question, retrieves relevant document chunks from the store, constructs a prompt, and generates an answer using the language model."}, {"name": "function defaultPromptTemplate(question: string, contexts: string[]): string { defaultPromptTemplate", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["chunkText", "this.embedder.embed", "this.store.add", "this.store.search", "this.llm.generate"], "search-terms": ["LiteRAG", "ingest", "query", "embeddings", "ChunkerOptions", "VectorStore", "EmbeddingsProvider", "LLM"], "state": 2, "file_id": 24, "knowledge_revision": 53, "git_revision": "", "ctags": [{"_type": "tag", "name": "LiteRAG", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^export class LiteRAG {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "all", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const all: Chunk[][] = [];$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "chunks", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const chunks = chunkText(document, this.chunkerOptions);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "contextBlock", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^  const contextBlock = contexts.map((c, i) => `Snippet ${i + 1}:\\\\n${c}`).join(\"\\\\n\\\\n\");$/", "language": "TypeScript", "kind": "constant", "scope": "defaultPromptTemplate", "scopeKind": "function"}, {"_type": "tag", "name": "contexts", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const contexts = results.map((r) => r.chunk.text);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "defaultPromptTemplate", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^function defaultPromptTemplate(question: string, contexts: string[]): string {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "doc", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    for (const doc of documents) {$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "embedder", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^  private embedder: EmbeddingsProvider;$/", "language": "TypeScript", "kind": "property", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "embeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const embeddings = await this.embedder.embed(chunks.map((c) => c.text));$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "llm", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^  private llm: LLM;$/", "language": "TypeScript", "kind": "property", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "prompt", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const prompt = promptTemplate(question, contexts);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "promptTemplate", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const promptTemplate =$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "qEmb", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const [qEmb] = await this.embedder.embed([question]);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "results", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const results = await this.store.search(qEmb, topK);$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^  private store: VectorStore;$/", "language": "TypeScript", "kind": "property", "scope": "LiteRAG", "scopeKind": "class"}, {"_type": "tag", "name": "topK", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const topK = opts?.topK ?? 5;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "withEmbeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/rag.ts", "pattern": "/^    const withEmbeddings: Chunk[] = chunks.map((c, i) => ({ ...c, embedding: embeddings[i] }));$/", "language": "TypeScript", "kind": "constant"}], "hash": "fdf19d9c07e84ed462671b0f3423d816", "format-version": 4, "code-base-name": "frontend", "filename": "ai-rag-lite/src/rag.ts", "fields": [{"name": "private embedder: EmbeddingsProvider;", "scope": "LiteRAG", "scopeKind": "class", "description": "unavailable"}, {"name": "private llm: LLM;", "scope": "LiteRAG", "scopeKind": "class", "description": "unavailable"}, {"name": "private store: VectorStore;", "scope": "LiteRAG", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"53": ""}]}