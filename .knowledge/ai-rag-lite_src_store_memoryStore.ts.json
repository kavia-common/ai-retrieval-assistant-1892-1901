{"is_source_file": true, "format": "TypeScript", "description": "This file defines a class MemoryVectorStore that implements a simple in-memory vector store for storing chunks and their embeddings, with functionalities for adding chunks and searching by cosine similarity.", "external_files": ["../types", "../search/cosine"], "external_methods": ["rankByCosine"], "published": ["MemoryVectorStore"], "classes": [{"name": "MemoryVectorStore", "description": "Implements a vector store that holds chunks and their embeddings, supporting add and search operations."}], "methods": [{"name": "async add(chunks: Chunk[]): Promise<void> { add", "description": "Adds an array of chunks, storing their embeddings; throws error if a chunk lacks embedding.", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"name": "async search( search", "description": "Performs a cosine similarity search to find top K matching chunks based on a query embedding.", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"name": "size(): number { size", "description": "Returns the number of chunks stored in the vector store.", "scope": "MemoryVectorStore", "scopeKind": "class"}], "calls": ["rankByCosine"], "search-terms": ["MemoryVectorStore", "vector store", "embedding", "search", "cosine similarity"], "state": 2, "file_id": 17, "knowledge_revision": 35, "git_revision": "", "ctags": [{"_type": "tag", "name": "MemoryVectorStore", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^export class MemoryVectorStore implements VectorStore {$/", "language": "TypeScript", "kind": "class"}, {"_type": "tag", "name": "add", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^  async add(chunks: Chunk[]): Promise<void> {$/", "language": "TypeScript", "kind": "method", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "c", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^    for (const c of chunks) {$/", "language": "TypeScript", "kind": "constant", "scope": "MemoryVectorStore.add", "scopeKind": "method"}, {"_type": "tag", "name": "chunks", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^  private chunks: Chunk[] = [];$/", "language": "TypeScript", "kind": "property", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "embeddings", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^  private embeddings: number[][] = [];$/", "language": "TypeScript", "kind": "property", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "ranked", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^    const ranked = rankByCosine(this.embeddings, queryEmbedding, topK);$/", "language": "TypeScript", "kind": "constant", "scope": "MemoryVectorStore.search", "scopeKind": "method"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^  async search($/", "language": "TypeScript", "kind": "method", "scope": "MemoryVectorStore", "scopeKind": "class"}, {"_type": "tag", "name": "size", "path": "/home/kavia/workspace/code-generation/ai-retrieval-assistant-1892-1901/ai-rag-lite/src/store/memoryStore.ts", "pattern": "/^  size(): number {$/", "language": "TypeScript", "kind": "method", "scope": "MemoryVectorStore", "scopeKind": "class"}], "hash": "a066a30cd1fa2be4fd3f57974a74674d", "format-version": 4, "code-base-name": "frontend", "filename": "ai-rag-lite/src/store/memoryStore.ts", "fields": [{"name": "private chunks: Chunk[] = [];", "scope": "MemoryVectorStore", "scopeKind": "class", "description": "unavailable"}, {"name": "private embeddings: number[][] = [];", "scope": "MemoryVectorStore", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"35": ""}]}